# Root Environment Variables Template
# Copy this file to .env and fill in your values

# Application
# Set to 'development' for local development
# Set to 'production' for production deployment
NODE_ENV=development
LOG_LEVEL=info

# CORS
CORS_ORIGIN=http://localhost:3000,http://localhost:19006

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long
JWT_ACCESS_SECRET=
JWT_ACCESS_EXPIRES_IN=2h
JWT_REFRESH_SECRET=your-super-secret-refresh-key-minimum-32-characters-long
JWT_REFRESH_EXPIRES_IN=30d
BCRYPT_SALT_ROUNDS=12

# Database - PostgreSQL (Cloud Only)
# Using cloud PostgreSQL managed service - no local PostgreSQL supported
# Example: postgres://user:pass@host:5432/db?sslmode=require
POSTGRES_URL=postgres://user:password@host:5432/kodingcaravan?sslmode=require
POSTGRES_DB=kodingcaravan

# Database - MongoDB (Cloud Atlas Only)
# Using MongoDB Atlas cloud service - no local MongoDB supported
MONGO_URI=mongodb+srv://KodingCaravan:KodingcaravanMongo@cluster0.2mcuw5u.mongodb.net/?appName=Cluster0
MONGO_DB_NAME=kodingcaravan

# Database - Redis (Cloud Only)
# Using cloud Redis (Upstash) - no local Redis supported
# Format: rediss://default:password@host:port (rediss:// for TLS, redis:// for non-TLS)
# Note: Upstash requires TLS, so use rediss://
REDIS_URL=rediss://default:YOUR_REDIS_PASSWORD@YOUR_REDIS_HOST:6379

# Kafka
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=kodingcaravan-service
KAFKA_GROUP_ID=kodingcaravan-group

# AWS S3 (e.g. bucket kc-code-test - set credentials via env, never commit secrets)
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=kc-code-test

# Service Ports
API_GATEWAY_PORT=3000
STUDENT_AUTH_SERVICE_PORT=3001
TRAINER_AUTH_SERVICE_PORT=3002
STUDENT_SERVICE_PORT=3003
TRAINER_SERVICE_PORT=3004
COURSE_SERVICE_PORT=3005
NOTIFICATION_SERVICE_PORT=3006
PAYMENT_SERVICE_PORT=3007
CHAT_SERVICE_PORT=3008
ANALYTICS_SERVICE_PORT=3009
ADMIN_SERVICE_PORT=3010
BOOKING_SERVICE_PORT=3011

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# SMTP (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=kodingcaravan@gmail.com
SMTP_PASS=your-gmail-app-password-here
SMTP_FROM=info@kodingcaravan.com
SMTP_DISABLE=false

# MSG91 (SMS OTP)
MSG91_AUTH_KEY=your-msg91-key
MSG91_SENDER=KODING
MSG91_TEMPLATE_ID=

# Email OTP
EMAIL_OTP_SUBJECT=Verify your KodingCaravan account

# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=

# Firebase (optional - for push notifications)
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=

# VAPID Keys (optional - for web push)
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=

# Razorpay Payment Gateway
RAZORPAY_KEY_ID=your-razorpay-key-id
RAZORPAY_KEY_SECRET=your-razorpay-key-secret
PAYMENT_SESSION_TTL_MINUTES=30

# Google Maps API (for geocoding addresses to coordinates)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key-here

# Trainer Allocation - Sequential Time Slot Distance Constraint
# Maximum distance (in kilometers) between students for sequential time slots
# Trainers can only accept students at consecutive time slots if they're within this distance
# Default: 3km (e.g., if trainer has student at 4 PM, next student at 5 PM must be within 3km)
MAX_SEQUENTIAL_DISTANCE_KM=3

# Coin Rewards Configuration
# Coins are awarded to students for various activities
COIN_REWARD_REGISTRATION=50
COIN_REWARD_COURSE_COMPLETION=100
COIN_REWARD_REFERRAL=50

# Coin to Rupee Conversion Rate
# Defines how much discount (in ₹) each coin provides when redeemed
# Example: COIN_TO_RUPEE_RATE=1 means 1 coin = ₹1 discount
# Example: COIN_TO_RUPEE_RATE=0.5 means 1 coin = ₹0.50 discount
# Example: COIN_TO_RUPEE_RATE=2 means 1 coin = ₹2 discount
# Default: 1 (1 coin = ₹1 discount)
COIN_TO_RUPEE_RATE=1

# Exotel Configuration (Optional - for trainer-student calls)
# Only required if you want to enable call functionality
# EXOTEL_API_KEY=your_exotel_api_key
# EXOTEL_API_TOKEN=your_exotel_api_token
# EXOTEL_SUBDOMAIN=your_exotel_subdomain
# EXOTEL_VIRTUAL_NUMBER=your_exotel_virtual_number

# Exotel Configuration (Optional - for trainer-student calls)
# Only required if you want to enable call functionality
# EXOTEL_API_KEY=your_exotel_api_key
# EXOTEL_API_TOKEN=your_exotel_api_token
# EXOTEL_SUBDOMAIN=your_exotel_subdomain
# EXOTEL_VIRTUAL_NUMBER=your_exotel_virtual_number
